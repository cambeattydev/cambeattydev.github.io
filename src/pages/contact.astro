---
import BaseHead from "../components/BaseHead.astro";
import BaseLayout from "../layouts/BaseLayout.astro";
import { SITE_TITLE } from "../config";
---

<BaseHead title={SITE_TITLE + "- Contact"} description="" />

<BaseLayout>
  <main class="m-4">
    <section class="m-auto container">
      <h1 class="text-4xl w-full text-center">Contact</h1>
      <!--TODO make this handle the redirect -->
      <form
        id="contact-form"
        method="post"
        action="https://prod2-20.centralus.logic.azure.com:443/workflows/9b5ba65380b0443e9d6236af7c74ad15/triggers/manual/paths/invoke?api-version=2016-10-01&sp=%2Ftriggers%2Fmanual%2Frun&sv=1.0&sig=haN6L3CQ76P2nY6B65oOL2joIlw7m--HX02KSQVLPs0"
      >
        <div class="mb-6">
          <label
            for="name"
            class="block mb-2 text-sm font-medium text-gray-900 dark:text-gray-300"
            >Name</label
          >
          <input
            type="text"
            name="name"
            id="name"
            class="block p-4 w-full text-gray-900 bg-gray-50 rounded-lg border border-gray-300 sm:text-md focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"
          />
        </div>
        <div class="mb-6">
          <label
            for="name"
            class="block mb-2 text-sm font-medium text-gray-900 dark:text-gray-300"
            >Email</label
          >
          <input
            type="text"
            name="email"
            id="email"
            class="block p-4 w-full text-gray-900 bg-gray-50 rounded-lg border border-gray-300 sm:text-md focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"
          />
        </div>
        <div class="mb-6">
          <label
            for="name"
            class="block mb-2 text-sm font-medium text-gray-900 dark:text-gray-300"
            >Description</label
          >
          <textarea
            name="description"
            id="description"
            class="block p-4 w-full text-gray-900 bg-gray-50 rounded-lg border border-gray-300 sm:text-md focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"
          ></textarea>
        </div>
        <button
          class="mt-5 g-recaptcha text-blue-700 hover:text-white border border-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center mr-2 mb-2 dark:border-blue-500 dark:text-blue-500 dark:hover:text-white dark:hover:bg-blue-600 dark:focus:ring-blue-800"
          data-sitekey="6LfL3y0iAAAAAIZZv8fZcnOSmoRIK_I9HnV3pXDO"
          data-callback="onSubmit"
          data-badge="inline"
          data-action="submit">Submit</button
        >
      </form>
    </section>
  </main>
  <div class="flex-grow"></div>
</BaseLayout>
<script is:inline>
  function onSubmit(token) {
    document.getElementById("contact-form").submit();
    var request = new XMLHttpRequest();
    request.send();
  }
</script>
